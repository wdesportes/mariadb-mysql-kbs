{
  "url": "http://kb-mirror.mariadb.com/kb/en/library/documentation/columns-storage-engines-and-plugins/storage-engines/tokudb/tokudb-system-variables/",
  "name": "tokudb-system-variables",
  "data": [
    {
      "id": "tokudb_alter_print_error",
      "name": "tokudb_alter_print_error",
      "type": "print errors for alter table operations.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_analyze_time",
      "name": "tokudb_analyze_time",
      "type": "time in seconds that",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "5",
      "range": {
        "from": 0,
        "to": 4294967295
      }
    },
    {
      "id": "tokudb_block_size",
      "name": "tokudb_block_size",
      "type": "uncompressed size of internal fractal tree and leaf nodes. changing will only affect tables created after the new setting is in effect. existing tables will keep the setting they were created with unless the table is dumped and reloaded.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "4194304",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_bulk_fetch",
      "name": "tokudb_bulk_fetch",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_cache_size",
      "name": "tokudb_cache_size",
      "type": "size in bytes of the tokudb cache. this variable is read-only and cannot be changed dynamically. to change the value, either set the value in the",
      "dynamic": false,
      "dataType": "numeric"
    },
    {
      "id": "tokudb_check_jemalloc",
      "name": "tokudb_check_jemalloc",
      "type": "check if jemalloc is linked.",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "1",
      "validValues": [
        "0",
        "1"
      ]
    },
    {
      "id": "tokudb_checkpoint_lock",
      "name": "tokudb_checkpoint_lock",
      "type": "mechanism to lock out tokudb checkpoints. when set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_checkpoint_on_flush_logs",
      "name": "tokudb_checkpoint_on_flush_logs",
      "type": "tokudb checkpoint on flush logs.",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_checkpointing_period",
      "name": "tokudb_checkpointing_period",
      "type": "time in seconds between the beginning of each checkpoint. it is recommended to leave this at the default setting of 1 minute.",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "60",
      "range": {
        "from": 0,
        "to": 4294967295
      }
    },
    {
      "id": "tokudb_cleaner_iterations",
      "name": "tokudb_cleaner_iterations",
      "type": "number of internal nodes processed in each cleaner thread period (see",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "5",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_cleaner_period",
      "name": "tokudb_cleaner_period",
      "type": "frequency in seconds for the running of the cleaner thread. setting to",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "1",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_commit_sync",
      "name": "tokudb_commit_sync",
      "type": "whether or not the transaction log is flushed upon transaction commit. flushing has a minor performance penalty, but switching it off means that committed transactions may not survive a server crash.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_create_index_online",
      "name": "tokudb_create_index_online",
      "type": "whether indexes are hot or not. hot, or online, indexes (the default) mean that the table is available for inserting and updates while the index is being created. it is slower to create hot indexes.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_data_dir",
      "name": "tokudb_data_dir",
      "type": "directory where the tokudb data is stored. by default the variable is empty, in which case the regular",
      "dynamic": false,
      "dataType": "string"
    },
    {
      "id": "tokudb_debug",
      "name": "tokudb_debug",
      "type": "setting to a non-zero value turns on various tokudb debug traces.",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "0",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_directio",
      "name": "tokudb_directio",
      "type": "when set to on, tokudb writes use direct io instead of buffered io.",
      "dynamic": false,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_disable_hot_alter",
      "name": "tokudb_disable_hot_alter",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_disable_prefetching",
      "name": "tokudb_disable_prefetching",
      "type": "if prefetching is not disabled (the default), range queries usually benefit from aggressive prefetching of blocks of rows. for range queries with limit clauses, this can create unnecessary io, and so prefetching can be disabled if these make up a majority of range queries.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_disable_slow_alter",
      "name": "tokudb_disable_slow_alter",
      "type": "usually, tokudb permits column addition, deletion, expansion, and renaming with minimal locking, very quickly. this variable determines whether certain slow [alter|alter]] table statements that cannot take advantage of this feature are permitted. statements that are slow are those that include a mix of column additions, deletions or expansions, for example,",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "OFF"
    },
    {
      "id": "tokudb_empty_scan",
      "name": "tokudb_empty_scan",
      "type": "tokudb algorithm to check if the table is empty when opened. setting to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "enum",
      "default": "rl",
      "validValues": [
        "lr",
        "rl",
        "disabled"
      ]
    },
    {
      "id": "tokudb_fs_reserve_percent",
      "name": "tokudb_fs_reserve_percent",
      "type": "if this percentage of the filesystem is not free, inserts will be prohibited. recommended value is half the size of the available memory. once disabled, inserts will be re-enabled once twice the reserve is available. tokudb will freeze entirely if the disk becomes entirely full.",
      "scope": [
        "global"
      ],
      "dynamic": false,
      "dataType": "numeric",
      "default": "5"
    },
    {
      "id": "tokudb_fsync_log_period",
      "name": "tokudb_fsync_log_period",
      "type": "fsync() operations frequency in milliseconds. if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "0",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_hide_default_row_format",
      "name": "tokudb_hide_default_row_format",
      "type": "hide the default row format.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_killed_time",
      "name": "tokudb_killed_time",
      "type": "control lock tree kill callback frequency.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "4000",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_last_lock_timeout",
      "name": "tokudb_last_lock_timeout",
      "type": "empty by default, when a lock deadlock is detected, or a lock request times out, set to a json document describing the most recent lock conflict. only set when the first bit of",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "text"
    },
    {
      "id": "tokudb_load_save_space",
      "name": "tokudb_load_save_space",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_loader_memory_size",
      "name": "tokudb_loader_memory_size",
      "type": "memory limit for each loader instance used by the tokudb bulk loader.  memory is taken from the tokudb cache (",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "100000000",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_lock_timeout",
      "name": "tokudb_lock_timeout",
      "type": "time in milliseconds that a transaction will wait for a lock held by another transaction to be released before timing out with a",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "4000",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_lock_timeout_debug",
      "name": "tokudb_lock_timeout_debug",
      "type": "when bit zero is set (default",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "1"
    },
    {
      "id": "tokudb_log_dir",
      "name": "tokudb_log_dir",
      "type": "directory where the tokudb log files are stored. by default the variable is empty, in which case the regular",
      "dynamic": false,
      "dataType": "string"
    },
    {
      "id": "tokudb_max_lock_memory",
      "name": "tokudb_max_lock_memory",
      "type": "max memory for locks.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": false,
      "dataType": "numeric",
      "default": "130653952"
    },
    {
      "id": "tokudb_optimize_index_fraction",
      "name": "tokudb_optimize_index_fraction",
      "type": "when deleting a percentage of the tree (useful when the left side of the tree has many deletions, such as a pattern with increasing ids or dates), it's possible to optimize a subset of the fractal tree, as determined by the value of this variable, which ranges from",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "1.000000",
      "range": {
        "from": 0,
        "to": 1
      }
    },
    {
      "id": "tokudb_optimize_index_name",
      "name": "tokudb_optimize_index_name",
      "type": "if set to an index name, will optimize that single index in a table. empty by default.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "string"
    },
    {
      "id": "tokudb_optimize_throttle",
      "name": "tokudb_optimize_throttle",
      "type": "table optimization utilizes all available resources by default. this variable allows the table optimization speed to be limited in order to reduce the overall resources used. the limit places an upper bound on the number of fractal tree leaf nodes that are optimized per second.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "0",
      "range": {
        "from": 0,
        "to": 18446744073709552000
      }
    },
    {
      "id": "tokudb_pk_insert_mode",
      "name": "tokudb_pk_insert_mode",
      "type": "mode for primary key inserts using either",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "enumerated",
      "default": "1",
      "validValues": [
        "0",
        "1",
        "2"
      ]
    },
    {
      "id": "tokudb_prelock_empty",
      "name": "tokudb_prelock_empty",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_read_block_size",
      "name": "tokudb_read_block_size",
      "type": "uncompressed size in bytes of the read blocks of the fractal tree leaves. changing will only affect tables created after the new setting is in effect. existing tables will keep the setting they were created with unless the table is dumped and reloaded. larger values are better for large range scans and higher compressions, while smaller values are better for point and small range scans.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "65536",
      "range": {
        "from": 4096,
        "to": 4294967295
      }
    },
    {
      "id": "tokudb_read_buf_size",
      "name": "tokudb_read_buf_size",
      "type": "per-client size in bytes of the buffer used for storing bulk fetched values as part of a large range query. reduce if there are many simultaneous clients. setting to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "131072",
      "range": {
        "from": 0,
        "to": 1048576
      }
    },
    {
      "id": "tokudb_read_status_frequency",
      "name": "tokudb_read_status_frequency",
      "type": "progress is measured every this many reads for display by",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "10000",
      "range": {
        "from": 0,
        "to": 4294967295
      }
    },
    {
      "id": "tokudb_row_format",
      "name": "tokudb_row_format",
      "type": "compression algorithm used by default to compress data. can be overridden by a row format specified in the",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "enumerated",
      "default": "tokudb_zlib",
      "validValues": [
        "tokudb_default",
        "tokudb_fast",
        "tokudb_small",
        "tokudb_zlib",
        "tokudb_quicklz",
        "tokudb_lzma",
        "tokudb_uncompressed"
      ]
    },
    {
      "id": "tokudb_rpl_check_readonly",
      "name": "tokudb_rpl_check_readonly",
      "type": "by default, when the slave is in read only mode, row events will be run from the binary log using tokudb's read-free replication (rfr). setting this variable to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_rpl_lookup_rows",
      "name": "tokudb_rpl_lookup_rows",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_rpl_lookup_rows_delay",
      "name": "tokudb_rpl_lookup_rows_delay",
      "type": "can be used to simulate long disk reads by sleeping for the specified time, in microseconds, before the row lookup query. only useful to change in a test environment.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "0"
    },
    {
      "id": "tokudb_rpl_unique_checks",
      "name": "tokudb_rpl_unique_checks",
      "type": "if set to",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_rpl_unique_checks_delay",
      "name": "tokudb_rpl_unique_checks_delay",
      "type": "can be used to simulate long disk reads by sleeping for the specified time, in microseconds, before the row lookup query. only useful to change in a test environment.",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "0"
    },
    {
      "id": "tokudb_support_xa",
      "name": "tokudb_support_xa",
      "type": "whether or not the prepare phase of an xa transaction performs an fsync().",
      "scope": [
        "global",
        "session"
      ],
      "dynamic": true,
      "dataType": "boolean",
      "default": "ON"
    },
    {
      "id": "tokudb_tmp_dir",
      "name": "tokudb_tmp_dir",
      "type": "directory where the tokudb bulk loaders temporary files are stored. can be very large, and useful to place on a separate disk. by default the variable is empty, in which case the regular",
      "dynamic": false,
      "dataType": "directory name"
    },
    {
      "id": "tokudb_version",
      "name": "tokudb_version",
      "type": "the tokudb version of the plugin included on mariadb.",
      "dynamic": false,
      "dataType": "string"
    },
    {
      "id": "tokudb_write_status_frequency",
      "name": "tokudb_write_status_frequency",
      "type": "progress is measured every this many writes for display by",
      "scope": [
        "global"
      ],
      "dynamic": true,
      "dataType": "numeric",
      "default": "1000",
      "range": {
        "from": 0,
        "to": 4294967295
      }
    }
  ]
}